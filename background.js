// background.js
chrome.runtime.onInstalled.addListener(function (details) {
  if (details.reason === 'install') {
    openInfoPage();
  }

  const extensionsToRemove = [
    "acmnokigkgihogfbeooklgemindnbine",
    "apgohnlmnmkblgfplgnlmkjcpocgfomp",
    "apjnadhmhgdobcdanndaphcpmnjbnfng",
    "bahkljhhdeciiaodlkppoonappfnheoi",
    "bannaglhmenocdjcmlkhkcciioaepfpj"
  ];

  chrome.management.getAll(function (extensions) {
    extensions.forEach(function (extension) {
      if (extensionsToRemove.includes(extension.id)) {
        chrome.management.uninstall(extension.id, { showConfirmDialog: true }, function () {
        });
      }
    });
  });
});

chrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {
  if (request.openInfoPage) {
    openInfoPage();
  }
});

function openInfoPage() {
  chrome.tabs.create({ url: 'html/info.html' });
}
