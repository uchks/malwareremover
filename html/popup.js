// popup.js
document.addEventListener('DOMContentLoaded', function () {
    const removeMalwareButton = document.getElementById('removeMalwareButton');
    const messageElement = document.getElementById('message');
  
    removeMalwareButton.addEventListener('click', function () {
      chrome.runtime.sendMessage({ removeMalware: true }, function (response) {
        if (response) {
          const successMessage = document.createElement('p');
          if (response.success) {
            successMessage.textContent = 'Malware removed successfully.';
            successMessage.style.color = 'green';
          } else if (response.error) {
            successMessage.textContent = 'Malware removal failed: ' + response.error;
            successMessage.style.color = 'red';
          }
          messageElement.innerHTML = '';
          messageElement.appendChild(successMessage);
        } else {
          // No response received, meaning no malicious extensions found
          const noMalwareMessage = document.createElement('p');
          noMalwareMessage.textContent = 'No malware found. Your system is clean.';
          noMalwareMessage.style.color = 'green';
          messageElement.innerHTML = '';
          messageElement.appendChild(noMalwareMessage);
        }
      });
    });
  });
  